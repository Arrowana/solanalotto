{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Lotteries.vue?845d","webpack:///./src/App.vue?984a","webpack:///./src/components/CreateLottery.vue?9ecc","webpack:///src/components/CreateLottery.vue","webpack:///./src/components/CreateLottery.vue?e8ae","webpack:///./src/components/CreateLottery.vue","webpack:///./src/components/Lotteries.vue?1a2b","webpack:///src/components/Lotteries.vue","webpack:///./src/components/Lotteries.vue?86e1","webpack:///./src/components/Lotteries.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lottery.js","webpack:///./src/layout.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","cluster","multiple","domProps","composing","privateKey","_s","privateKeyError","_e","programId","sol","lotteries","userAccountPubkey","onEnter","onReceive","staticRenderFns","ticketPrice","canCreate","props","methods","$propsprivateKey","$props","component","staticClass","_l","lottery","index","lotteryAccountPubkey","LAMPORTS_PER_SOL","max_entrant_count","entrants","winnerAccountPubkey","receive","includes","enter","$emit","userAccount","userAccountInfo","components","CreateLottery","Lotteries","watch","computed","fetchLotteries","Vue","config","productionTip","render","h","App","$mount","connection","Connection","changeEndpoint","endpoint","privateKeyByteArrayStringToAccount","privateKeyByteArrayString","privateKeyDecoded","split","parseInt","Account","getAccountInfo","account","publicKey","initLottery","privateKeyByteArray","lotteryProgramIdString","initializerAccount","console","log","toBase58","lotteryProgramId","PublicKey","lotteryAccount","SystemProgram","LOTTERY_ACCOUNT_DATA_LAYOUT","span","getMinimumBalanceForRentExemption","fromPubkey","newAccountPubkey","space","lamports","createLotteryAccountIx","createAccount","ixData","Buffer","concat","from","toBuffer","initLotteryIx","TransactionInstruction","keys","pubkey","isSigner","isWritable","SYSVAR_RENT_PUBKEY","tx","Transaction","add","sendTransaction","skipPreflight","preflightCommitment","signature","Promise","resolve","setTimeout","lotteryAccountInfo","lotteryAccountInfoToLotteryInfo","enterLottery","lotteryAccountPubkeyString","payerAccount","enterLotteryIx","receiveLotteryWinnings","winnerAccount","receiveLotteryIx","unitializedPubkey","decodedLotteryState","decode","winner","entrant","isInitialized","initializerAccountPubkey","initializerPubkey","BN","toNumber","getLotteriesForProgramId","getProgramAccounts","programAccounts","BufferLayout","uint64","ENTRANT_COUNT"],"mappings":"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","file":"js/app.73aa2b97.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lotteries.vue?vue&type=style&index=0&id=6d924583&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('p',[_vm._v(\"Solanalotto\")]),_c('div',[_c('p',[_vm._v(\"Cluster\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cluster),expression:\"cluster\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.cluster=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Cluster\")]),_c('option',[_vm._v(\"devnet\")]),_c('option',[_vm._v(\"localnet\")])]),_c('ul',[_c('li',[_c('label',[_vm._v(\"Private key:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.privateKey),expression:\"privateKey\"}],domProps:{\"value\":(_vm.privateKey)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.privateKey=$event.target.value}}}),(_vm.privateKeyError)?_c('p',[_vm._v(_vm._s(_vm.privateKeyError))]):_vm._e()]),_c('li',[_c('label',[_vm._v(\"Program id:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.programId),expression:\"programId\"}],domProps:{\"value\":(_vm.programId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.programId=$event.target.value}}})])]),(_vm.sol !== null)?_c('p',[_vm._v(_vm._s(_vm.sol)+\" SOL\")]):_vm._e()]),_c('CreateLottery',{attrs:{\"privateKey\":_vm.privateKey,\"programId\":_vm.programId}}),_c('Lotteries',{attrs:{\"lotteries\":_vm.lotteries,\"userAccountPubkey\":_vm.userAccountPubkey},on:{\"enter\":_vm.onEnter,\"receive\":_vm.onReceive}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"New lottery\")]),_c('label',[_vm._v(\"Ticket price:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ticketPrice),expression:\"ticketPrice\"}],domProps:{\"value\":(_vm.ticketPrice)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ticketPrice=$event.target.value}}}),_vm._v(\" SOL \"),_c('button',{attrs:{\"disabled\":!_vm.canCreate()},on:{\"click\":_vm.create}},[_vm._v(\"Create\")]),(!_vm.canCreate())?_c('p',[_vm._v(\"Private key and program id required\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>New lottery</h1>\n    <label>Ticket price:</label><input v-model=\"ticketPrice\"> SOL\n    <button v-on:click=\"create\" :disabled=\"!canCreate()\">Create</button>\n    <p v-if=\"!canCreate()\">Private key and program id required</p>\n  </div>\n</template>\n\n<script>\nimport { initLottery } from '../lottery'\n\nexport default {\n  data: function() { return {ticketPrice: 1}; },\n  props: {\n    privateKey: {type: String, required: true},\n    programId: {type: String, required: true}\n  },\n  methods: {\n    create: async function() {\n      const lotteryInfo = await initLottery(\n        this.$props.privateKey,\n        this.$data.ticketPrice,\n        this.$props.programId\n      );\n\n      console.log(`lotteryInfo: ${lotteryInfo.ticketPrice}`);\n    },\n    canCreate: function() {\n      return this.$propsprivateKey !== '' && this.$props.programId !== '';\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateLottery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateLottery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateLottery.vue?vue&type=template&id=37fb921c&\"\nimport script from \"./CreateLottery.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateLottery.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(\"Lotteries\")]),_c('p',[_vm._v(\" Ongoing lotteries \")]),_c('div',[_vm._l((_vm.lotteries),function(lottery,index){return _c('ul',{key:index},[_c('li',[_vm._v(\"Lottery account \"),_c('a',{attrs:{\"href\":(\"https://explorer.solana.com/address/\" + (lottery.lotteryAccountPubkey) + \"?customUrl=http://127.0.0.1:8899&cluster=custom\")}},[_vm._v(_vm._s(lottery.lotteryAccountPubkey.slice(0, 8))+\"...\")])]),_c('li',[_vm._v(\"Ticket price: \"+_vm._s(lottery.ticketPrice / _vm.LAMPORTS_PER_SOL)+\" SOL\")]),_c('li',[_vm._v(\"Winnings: \"+_vm._s(lottery.ticketPrice / _vm.LAMPORTS_PER_SOL * lottery.max_entrant_count)+\" SOL\")]),_c('li',[_vm._v(\"Entrants: \"+_vm._s(lottery.entrants.length)+\"/\"+_vm._s(lottery.max_entrant_count))]),(lottery.winnerAccountPubkey)?_c('li',[_vm._v(\"Winner \"),_c('a',{attrs:{\"href\":\"\"}},[_vm._v(_vm._s(lottery.winnerAccountPubkey))])]):_vm._e(),(_vm.userAccountPubkey && _vm.userAccountPubkey === lottery.winnerAccountPubkey)?_c('li',[_c('button',{attrs:{\"id\":\"claim\"},on:{\"click\":function($event){return _vm.receive(lottery)}}},[_vm._v(\"Claim\")])]):_vm._e(),(_vm.userAccountPubkey && !lottery.winnerAccountPubkey && !lottery.entrants.includes(_vm.userAccountPubkey))?_c('button',{on:{\"click\":function($event){return _vm.enter(lottery)}}},[_vm._v(\"Enter\")]):_vm._e(),(lottery.entrants.includes(_vm.userAccountPubkey))?_c('p',[_vm._v(\"Entered\")]):_vm._e()])}),(_vm.lotteries.length == 0)?_c('p',[_vm._v(\"No lottery\")]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"hello\">\n    <h1>Lotteries</h1>\n    <p>\n        Ongoing lotteries\n    </p>\n    <div>\n      <ul v-for=\"(lottery, index) in lotteries\" :key=\"index\">\n        <li>Lottery account <a :href=\"`https://explorer.solana.com/address/${lottery.lotteryAccountPubkey}?customUrl=http://127.0.0.1:8899&cluster=custom`\">{{ lottery.lotteryAccountPubkey.slice(0, 8) }}...</a></li>\n        <li>Ticket price: {{ lottery.ticketPrice / LAMPORTS_PER_SOL }} SOL</li>\n        <li>Winnings: {{ lottery.ticketPrice / LAMPORTS_PER_SOL * lottery.max_entrant_count}} SOL</li>\n        <li>Entrants: {{ lottery.entrants.length }}/{{ lottery.max_entrant_count }}</li>\n        <li v-if=\"lottery.winnerAccountPubkey\">Winner <a href=\"\">{{ lottery.winnerAccountPubkey }}</a></li>\n        <li v-if=\"userAccountPubkey && userAccountPubkey === lottery.winnerAccountPubkey\"><button id=\"claim\" v-on:click=\"receive(lottery)\">Claim</button></li>\n        <button v-if=\"userAccountPubkey && !lottery.winnerAccountPubkey && !lottery.entrants.includes(userAccountPubkey)\" v-on:click=\"enter(lottery)\">Enter</button>\n        <p v-if=\"lottery.entrants.includes(userAccountPubkey)\">Entered</p>\n      </ul>\n      <p v-if=\"lotteries.length == 0\">No lottery</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { LAMPORTS_PER_SOL } from '@solana/web3.js'\n\nexport default {\n  props: ['lotteries', 'userAccountPubkey'],\n  data: function() {\n    return {\n      LAMPORTS_PER_SOL: LAMPORTS_PER_SOL\n    };\n  },\n  methods: {\n    enter: function(lottery) {\n      this.$emit('enter', lottery);\n    },\n    receive: function(lottery) {\n      this.$emit('receive', lottery);\n    }\n  }\n}\n</script>\n\n<style scoped>\n#claim {\n  background-color: green;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lotteries.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lotteries.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lotteries.vue?vue&type=template&id=6d924583&scoped=true&\"\nimport script from \"./Lotteries.vue?vue&type=script&lang=js&\"\nexport * from \"./Lotteries.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lotteries.vue?vue&type=style&index=0&id=6d924583&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d924583\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <p>Solanalotto</p>\n    <div>\n      <p>Cluster</p>\n      <select v-model=\"cluster\">\n        <option disabled value=\"\">Cluster</option>\n        <option>devnet</option>\n        <option>localnet</option>\n      </select>\n      <ul>\n        <li>\n          <label>Private key:</label>\n          <input v-model=\"privateKey\">\n          <p v-if=\"privateKeyError\">{{ privateKeyError }}</p>\n        </li>\n        <li>\n          <label>Program id:</label>\n          <input v-model=\"programId\">\n        </li>\n      </ul>\n      <p v-if=\"sol !== null\">{{ sol }} SOL</p>\n    </div>\n    <CreateLottery :privateKey=\"privateKey\" :programId=\"programId\" />\n    <Lotteries :lotteries=\"lotteries\" :userAccountPubkey=\"userAccountPubkey\" @enter=\"onEnter\" @receive=\"onReceive\" />\n  </div>\n</template>\n\n<script>\nimport { LAMPORTS_PER_SOL } from '@solana/web3.js';\nimport { changeEndpoint, privateKeyByteArrayStringToAccount, getAccountInfo, getLotteriesForProgramId, enterLottery, receiveLotteryWinnings } from './lottery'\nimport CreateLottery from './components/CreateLottery.vue'\nimport Lotteries from './components/Lotteries.vue'\n\nexport default {\n  name: 'App',\n  data: function() {\n    return {\n      cluster: 'devnet',\n      userAccount: null,\n      userAccountInfo: null,\n      privateKey: '',\n      privateKeyError: null,\n      programId: '',\n      lotteries: []\n    };\n  },\n  components: {\n    CreateLottery,\n    Lotteries\n  },\n  watch: {\n    cluster: async function(value) {\n      const endpoints = {\n        'devnet': 'https://devnet.solana.com',\n        'localnet': 'http://127.0.0.1:8899' \n      };\n      changeEndpoint(endpoints[value]);\n      this.userAccountInfo = await getAccountInfo(this.userAccount);\n    },\n    programId: async function() {\n      await this.fetchLotteries();\n    },\n    privateKey: async function(value) {\n      this.privateKeyError = null;\n      this.userAccount = null;\n      try {\n        this.userAccount = privateKeyByteArrayStringToAccount(value);\n        this.userAccountInfo = await getAccountInfo(this.userAccount);\n      }\n      catch(e) {\n        this.privateKeyError = e.message;\n      }\n    }\n  },\n  computed: {\n    userAccountPubkey: function() {\n      return this.userAccount?.publicKey.toBase58();\n    },\n    sol: function() {\n      return this.userAccountInfo?.lamports / LAMPORTS_PER_SOL;\n    }\n  },\n  methods: {\n    onEnter: async function(lottery) {\n      const lotteryInfo = await enterLottery(\n        this.privateKey,\n        lottery.lotteryAccountPubkey,\n        this.programId\n      );\n      console.log(lotteryInfo);\n      await this.fetchLotteries();\n      this.userAccountInfo = await getAccountInfo(this.userAccount);\n    },\n    onReceive: async function(lottery) {\n      const lotteryInfo = await receiveLotteryWinnings(\n        this.privateKey,\n        lottery.lotteryAccountPubkey,\n        this.programId,\n      );\n      console.log(lotteryInfo);\n      await this.fetchLotteries();\n      this.userAccountInfo = await getAccountInfo(this.userAccount);\n    },\n    fetchLotteries: async function() {\n      const lotteries = await getLotteriesForProgramId(this.$data.programId);\n      console.log(lotteries);\n      this.lotteries = lotteries;\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\nul {\n  list-style-type: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0c945f2d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import { Account, Connection, PublicKey, SystemProgram, SYSVAR_RENT_PUBKEY, Transaction, TransactionInstruction, LAMPORTS_PER_SOL } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { LOTTERY_ACCOUNT_DATA_LAYOUT } from './layout';\n\nlet connection = new Connection(\"http://localhost:8899\", 'singleGossip');\n\nexport const changeEndpoint = (endpoint) => {\n    connection = new Connection(endpoint, 'singleGossip');\n};\n\nexport const privateKeyByteArrayStringToAccount = (privateKeyByteArrayString) => {\n    const privateKeyDecoded = privateKeyByteArrayString.split(',').map(s => parseInt(s));\n    return new Account(privateKeyDecoded);\n};\n\nexport const getAccountInfo = async (account) => {\n    return await connection.getAccountInfo(account.publicKey, 'singleGossip');\n};\n\nexport const initLottery = async (\n    privateKeyByteArray,\n    ticketPrice,\n    lotteryProgramIdString) => {\n    const privateKeyDecoded = privateKeyByteArray.split(',').map(s => parseInt(s));\n    const initializerAccount = new Account(privateKeyDecoded);\n    console.log(`initializer pubKey: ${initializerAccount.publicKey.toBase58()}`);\n    const lotteryProgramId = new PublicKey(lotteryProgramIdString);\n\n    const lotteryAccount = new Account();\n    const createLotteryAccountIx = SystemProgram.createAccount({\n        fromPubkey: initializerAccount.publicKey,\n        newAccountPubkey: lotteryAccount.publicKey,\n        space: LOTTERY_ACCOUNT_DATA_LAYOUT.span,\n        lamports: await connection.getMinimumBalanceForRentExemption(LOTTERY_ACCOUNT_DATA_LAYOUT.span, 'singleGossip') + ticketPrice * LAMPORTS_PER_SOL,\n        programId: lotteryProgramId,\n    });\n\n    const ixData = Buffer.concat([Buffer.from([0]), initializerAccount.publicKey.toBuffer()]);\n    const initLotteryIx = new TransactionInstruction({\n        programId: lotteryProgramId,\n        keys: [\n            { pubkey: lotteryAccount.publicKey, isSigner: false, isWritable: true },\n            { pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false},\n        ],\n        data: ixData\n    });\n    \n    const tx = new Transaction()\n        .add(createLotteryAccountIx, initLotteryIx);\n    const signature = await connection.sendTransaction(tx, [initializerAccount, lotteryAccount], {skipPreflight: false, preflightCommitment: 'singleGossip'});\n    console.log(`Tx signature: ${signature}`);\n\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    const lotteryAccountInfo = await connection.getAccountInfo(lotteryAccount.publicKey, 'singleGossip');\n    return lotteryAccountInfoToLotteryInfo(lotteryAccount.publicKey, lotteryAccountInfo);\n}\n\nexport const enterLottery = async (\n    privateKeyByteArray,\n    lotteryAccountPubkeyString,\n    lotteryProgramIdString\n) => {\n    const privateKeyDecoded = privateKeyByteArray.split(',').map(s => parseInt(s));\n    const payerAccount = new Account(privateKeyDecoded);\n    const lotteryAccountPubkey = new PublicKey(lotteryAccountPubkeyString);\n    const lotteryProgramId = new PublicKey(lotteryProgramIdString);\n\n    const enterLotteryIx = new TransactionInstruction({\n        programId: lotteryProgramId,\n        keys: [\n            { pubkey: payerAccount.publicKey, isSigner: true, isWritable: false },\n            { pubkey: lotteryAccountPubkey, isSigner: false, isWritable: true },\n            { pubkey: SystemProgram.programId, isSigner: false, isWritable: false }\n        ],\n        data: Buffer.from([1])\n    });\n\n    const tx = new Transaction()\n        .add(enterLotteryIx);\n    const signature = await connection.sendTransaction(tx, [payerAccount], {skipPreflight: false, preflightCommitment: 'singleGossip'});\n    console.log(`Tx signature: ${signature}`);\n\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n\n    const lotteryAccountInfo = await connection.getAccountInfo(lotteryAccountPubkey, 'singleGossip');\n    return lotteryAccountInfoToLotteryInfo(lotteryAccountPubkey, lotteryAccountInfo);\n};\n\nexport const receiveLotteryWinnings = async (\n    privateKeyByteArray,\n    lotteryAccountPubkeyString,\n    lotteryProgramIdString\n) => {\n    const privateKeyDecoded = privateKeyByteArray.split(',').map(s => parseInt(s));\n    const winnerAccount = new Account(privateKeyDecoded);\n    const lotteryAccountPubkey = new PublicKey(lotteryAccountPubkeyString);\n    const lotteryProgramId = new PublicKey(lotteryProgramIdString);\n\n    const receiveLotteryIx = new TransactionInstruction({\n        programId: lotteryProgramId,\n        keys: [\n            { pubkey: winnerAccount.publicKey, isSigner: true, isWritable: false },\n            { pubkey: lotteryAccountPubkey, isSigner: false, isWritable: true },\n        ],\n        data: Buffer.from([2])\n    });\n\n    const tx = new Transaction()\n        .add(receiveLotteryIx);\n    const signature = await connection.sendTransaction(tx, [winnerAccount], {skipPreflight: false, preflightCommitment: 'singleGossip'});\n    console.log(`Tx signature: ${signature}`);\n};\n\nconst unitializedPubkey = '11111111111111111111111111111111';\n\nexport const lotteryAccountInfoToLotteryInfo = (lotteryAccountPubkey, lotteryAccountInfo) => {\n    const decodedLotteryState = LOTTERY_ACCOUNT_DATA_LAYOUT.decode(lotteryAccountInfo.data);\n    let winner = new PublicKey(decodedLotteryState.winnerAccountPubkey).toBase58();\n    let entrants = decodedLotteryState.entrants\n        .map(entrant =>  new PublicKey(entrant).toBase58())\n        .filter(entrant => entrant !== unitializedPubkey);\n\n    return {\n        lotteryAccountPubkey: lotteryAccountPubkey.toBase58(),\n        isInitialized: !!decodedLotteryState.isInitialized,\n        initializerAccountPubkey: new PublicKey(decodedLotteryState.initializerPubkey).toBase58(),\n        ticketPrice: new BN(decodedLotteryState.ticketPrice, 10, \"le\").toNumber(),\n        winnerAccountPubkey: winner != unitializedPubkey ? winner : null,\n        entrants: entrants,\n        max_entrant_count: 5\n    };\n};\n\nexport const getLotteriesForProgramId = async (lotteryProgramIdString) => {\n    const lotteryProgramId = new PublicKey(lotteryProgramIdString);\n    const programAccounts = await connection.getProgramAccounts(lotteryProgramId, 'singleGossip');\n    return programAccounts.map(({pubkey, account}) => lotteryAccountInfoToLotteryInfo(pubkey, account));\n};","import * as BufferLayout from 'buffer-layout';\n\nconst publicKey = (property = \"publicKey\") => {\n    return BufferLayout.blob(32, property);\n};\n\nconst uint64 = (property = \"uint64\") => {\n    return BufferLayout.blob(8, property);\n};\nconst ENTRANT_COUNT = 5;\n\nexport const LOTTERY_ACCOUNT_DATA_LAYOUT = BufferLayout.struct([\n    BufferLayout.u8(\"isInitialized\"),\n    publicKey(\"initializerPubkey\"),\n    uint64(\"ticketPrice\"),\n    publicKey(\"winnerAccountPubkey\"),\n    BufferLayout.seq(publicKey(), ENTRANT_COUNT, \"entrants\")\n]);"],"sourceRoot":""}